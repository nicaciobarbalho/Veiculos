@using Veiculos.Web.Models

@{
    VeiculoModel veiculo = ViewBag.Veiculo;
    CompraModel comprar = ViewBag.Comprar;
    ViewBag.Title = "RegistroVenda";
}

<h2>Registro de compra</h2>
<style>
    .well {
        background-color: white;
        margin-bottom:3px;                
        padding:3px;
    }
    label{
        
    }
    
    .right {  
         font-weight: normal !important;  
    }

    .left {
         font-weight: bold !important;  
        text-transform: uppercase; 
    }
</style>


<div class="container">
    <div class="row">
        <div class="col-md-8 col-lg-offset-1">
            <section id="RegistroVendaForm">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h3 class="panel-title">
                         Dados do veículo
                        </h3>
                    </div>
                    
                   @if (comprar != null)
                   {
                    <div class="panel-body">
                        <div class="row center-block">
                            <div class="col-sm-3">@Html.LabelFor(m => veiculo.Placa, new { @class = "left" })</div>
                            <div class="col-sm-9">@Html.Label(veiculo.Placa, new { @class = "right" })</div>

                            <div class="col-sm-3">@Html.Label("Fabricante", null, new { @class = "left" })</div>
                            <div class="col-sm-9">@Html.Label(veiculo.DescricaoFabricante, new { @class = "right" })</div>

                            <div class="col-sm-3">@Html.Label("Modelo", null, new { @class = "left" })</div>
                            <div class="col-sm-9 left">@Html.Label(veiculo.DescricaoModelo, new { @class = "right" })</div>

                            <div class="col-sm-3">@Html.LabelFor(m => veiculo.Ano, null, new { @class = "left" })</div>
                            <div class="col-sm-9 left">@Html.Label(veiculo.Ano.ToString(), new { @class = "right" })</div>

                            <div class="col-sm-3">@Html.LabelFor(m => veiculo.Cilindradas, new { @class = "left" })</div>
                            <div class="col-sm-9 left">@Html.Label("", veiculo.Cilindradas.ToString(), new { @class = "right" })</div>

                            <div class="col-sm-3">@Html.LabelFor(m => veiculo.Chassi, null, new { @class = "left" })</div>
                            <div class="col-sm-9 left">@Html.Label("", veiculo.Chassi, new { @class = "right" })</div>
                        </div>                        
                     </div>
                   }
                 </div>   
            
                
                <div class="panel panel-default" style="margin-top:3% !important;">
                    <div class="panel-heading">
                        <h3 class="panel-title">
                            Dados da compra
                        </h3>
                    </div>

                    <div class="panel-body">
                        <div class="row center-block">
                            @using (Html.BeginForm("RegistrarCompra", "Comprar", FormMethod.Post, new { @class = "form-horizontal", role = "form", id = "submitForm" })) 
                                {

                                @Html.AntiForgeryToken()
                                @Html.ValidationSummary(true, "", new { @class = "text-danger" })

                                @Html.Hidden("idVeiculo", veiculo.Id)
                                @Html.Hidden("placaVeiculo", veiculo.Placa)
                                ViewBag.Veiculo = veiculo;
                                <div class="form-group">
                                    <div class="col-sm-3 control-label" style="text-align:left;">
                                        @Html.LabelFor(model => comprar.Data, htmlAttributes: new { @class = "left" })
                                    </div>
                                    <div class="col-sm-9">
                                        @Html.EditorFor(model => comprar.Data, new { htmlAttributes = new { @class = "form-control" } })
                                        @Html.ValidationMessageFor(model => comprar.Data, "", new { @class = "text-danger", })
                                    </div>
                                </div>

                                <div class="form-group">
                                    <div class="col-sm-3 control-label" style="text-align:left;">
                                        @Html.Label("", "Preço", htmlAttributes: new { @class = "left" })
                                    </div>
                                    <div class="col-sm-9">                                        
                                        @Html.EditorFor(model => comprar.Preco, new { htmlAttributes = new { @class = "form-control required numeric", @style = "text-align:right;" } })
                                        @Html.ValidationMessageFor(model => comprar.Preco, "", new { @class = "text-danger" })
                                    </div>
                                </div>

                                <div class="form-group">
                                    <div class="col-sm-3 control-label" style="text-align:left;">
                                        @Html.Label("", "Forma de pagamento", htmlAttributes: new { @class = "left" })
                                    </div>
                                    <div class="col-sm-9">                                                                                  
                                        @Html.DropDownListFor(model => comprar.IdFormaPagamento, ViewBag.IdFormaPagamento as SelectList, htmlAttributes: new { @class = "form-control" })
                                        @Html.ValidationMessageFor(model => comprar.IdFormaPagamento, "", new { @class = "text-danger" })
                                     </div>
                                </div>

                                <div class="form-group">
                                    <div class="col-sm-3 control-label" style="text-align:left;">
                                        @Html.Label("", "Observação", htmlAttributes: new { @class = "left" })
                                    </div>
                                    <div class="col-sm-9">
                                        @Html.TextAreaFor(model => comprar.Obs, htmlAttributes: new { @class = "form-control" })
                                        @Html.ValidationMessageFor(model => comprar.Obs, "", new { @class = "text-danger" })
                                    </div>
                                </div>

                                <div class="form-group">
                                    <div class="col-md-offset-2 col-xs-10">
                                        <input type="submit" value="Salvar" class="btn btn-default" />
                                    </div>
                                </div>
                            }
                        </div>
                    </div>
                </div>
         
            </section>
        </div>
    </div>
</div>
